<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Output configurations in edibble • edibble</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Output configurations in edibble">
<meta property="og:description" content="edibble">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">edibble</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/edbl-output.html">Output configurations in edibble</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="edbl-output_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Output configurations in edibble</h1>
            
      
      
      <div class="hidden name"><code>edbl-output.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">edibble</span><span class="op">)</span></code></pre></div>
<p>When you construct an experimental design, there are many intermediate steps along the way before you are ready to serve your design. edibble stores these intermediate constructs as an <em>edibble nexus</em> (<code>edbl_nexus</code>) which you can visualise in a number of ways.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1231</span><span class="op">)</span> 

<span class="va">new_rcbd</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="../reference/initiate_design.html">initiate_design</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"RCBD"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/set_units.html">set_units</a></span><span class="op">(</span>block <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"B1"</span>, <span class="st">"B2"</span><span class="op">)</span>,
            unit <span class="op">=</span> <span class="fu"><a href="../reference/nested_in.html">nested_in</a></span><span class="op">(</span><span class="va">block</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/set_trts.html">set_trts</a></span><span class="op">(</span>trt <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/allocate_trts.html">allocate_trts</a></span><span class="op">(</span><span class="op">~</span><span class="va">unit</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/randomise_trts.html">randomise_trts</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">rcbd</span> <span class="op">&lt;-</span> <span class="fu">new_rcbd</span><span class="op">(</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">rcbd</span><span class="op">)</span>
<span class="co">#&gt; [1] "edbl_nexus" "igraph"</span></code></pre></div>
<div id="print-for-edbl_nexus" class="section level2">
<h2 class="hasAnchor">
<a href="#print-for-edbl_nexus" class="anchor"></a>Print for <code>edbl_nexus</code>
</h2>
<p>If you print an <code>edbl_nexus</code> object, it will show you a tree structure with a high-level overview of the design. Below is a print out of a design. The output form isn’t really made for HTML and for complex reason color is lost for HTML (for the same reason as tibble).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rcbd</span>
<span class="co">#&gt; RCBD</span>
<span class="co">#&gt; ├─block (2 levels)</span>
<span class="co">#&gt; │ └─unit (12 levels)</span>
<span class="co">#&gt; ├─unit (12 levels)</span>
<span class="co">#&gt; └─trt (4 levels)</span></code></pre></div>
<p>The print out in terminal will look like below depending on your IDE theme (I’m using Tomorrow Night Bright theme in RStudio). You can see that the color of the nodes are dependant on which type of variable it is and also shows you how many levels each variable has.</p>
<p><img src="figures/vignette-decorate.png" width="150px"></p>
<div id="formatting-print-for-edbl_nexus" class="section level3">
<h3 class="hasAnchor">
<a href="#formatting-print-for-edbl_nexus" class="anchor"></a>Formatting print for <code>edbl_nexus</code>
</h3>
<p>If you don’t like the default choices, then you can easily customise the look by specifying the function of how to decorate the strings to options. Below I’m making use of functions in the cli package which wraps the string around in some styling.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>edibble.tree.decorate.trts <span class="op">=</span> <span class="fu">cli</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/cli/man/ansi-styles.html">bg_cyan</a></span>,
        edibble.tree.decorate.units <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cli/man/ansi-styles.html">bg_yellow</a></span><span class="op">(</span><span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"&lt;{x}&gt;"</span><span class="op">)</span><span class="op">)</span>,
        edibble.tree.decorate.resp <span class="op">=</span> <span class="fu">cli</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/cli/man/ansi-styles.html">col_yellow</a></span>,
        edibble.tree.decorate.levels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cli/man/ansi-styles.html">style_inverse</a></span><span class="op">(</span><span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"({x})"</span><span class="op">)</span><span class="op">)</span>,
        edibble.tree.decorate.main <span class="op">=</span> <span class="fu">cli</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/cli/man/ansi-styles.html">style_underline</a></span><span class="op">)</span></code></pre></div>
<p>Now the print out will look like below.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rcbd</span></code></pre></div>
<p><img src="figures/vignette-decorate-new.png" width="150px"></p>
<p>Instead of overwriting the options each time, you can set your <code>.Rprofile</code> so that when you load R, it will load the options in your profile. You can easily open <code>.Rprofile</code> with <code>usethis::edit_r_profile()</code>. I normally don’t recommend to do this as it makes your output non-reproducible by others but the print output is made more for interactive use rather than reports so it doesn’t matter much in this case.</p>
</div>
</div>
<div id="plot-for-edbl_nexus" class="section level2">
<h2 class="hasAnchor">
<a href="#plot-for-edbl_nexus" class="anchor"></a>Plot for <code>edbl_nexus</code>
</h2>
<p>There are two views available for <code>edbl_nexus</code>: high-level view and low-level view. The high-level view is designed for the user to see the overview of variable relations. [ADD link to other document with more explanation.]</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">rcbd</span><span class="op">)</span></code></pre></div>
<p><img src="edbl-output_files/figure-html/rcbd-high-plot-1.png" width="384"></p>
<p>There is also a low-level view of this.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">rcbd</span>, view <span class="op">=</span> <span class="st">"low"</span><span class="op">)</span></code></pre></div>
<p><img src="edbl-output_files/figure-html/rcbd-low-plot-1.png" width="576"></p>
<div id="formatting-plot-output-for-edbl_nexus" class="section level3">
<h3 class="hasAnchor">
<a href="#formatting-plot-output-for-edbl_nexus" class="anchor"></a>Formatting plot output for <code>edbl_nexus</code>
</h3>
<p>If you don’t like these aspects, you can in fact overwrite this. There are two ways you can do this.</p>
<ol style="list-style-type: decimal">
<li>
<code>edbl_nexus</code> is just an <code>igraph</code> under the hood and it’s leveraging the <code>plot</code> method there which means you can customise it the way it is done for <code>igraph</code>,</li>
<li>Modify the <code>options</code> output. You can see the full list of available options by printing <code>edibble:::op.edibble</code> with a few shown below.</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>edibble.vertex.shape.trt <span class="op">=</span> <span class="st">"circle"</span>,
        edibble.edge.width.t2v <span class="op">=</span> <span class="fl">3</span>,
        edibble.vertex.fill.trt <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></code></pre></div>
<p>This option is only applied to newly constructed designs so let’s reconstruct the same design.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rcbd2</span> <span class="op">&lt;-</span> <span class="fu">new_rcbd</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">rcbd2</span><span class="op">)</span></code></pre></div>
<p><img src="edbl-output_files/figure-html/rcbd-high-plot-v2-1.png" width="384"></p>
</div>
</div>
<div id="print-for-edbl_df" class="section level2">
<h2 class="hasAnchor">
<a href="#print-for-edbl_df" class="anchor"></a>Print for <code>edbl_df</code>
</h2>
<p>[ADD explanation]</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/serve_table.html">serve_table</a></span><span class="op">(</span><span class="fu">new_rcbd</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # An edibble: 12 x 3</span>
<span class="co">#&gt;    block     unit       trt     </span>
<span class="co">#&gt;    &lt;unit(2)&gt; &lt;unit(12)&gt; &lt;trt(4)&gt;</span>
<span class="co">#&gt;  1 B1        unit1      B       </span>
<span class="co">#&gt;  2 B1        unit2      D       </span>
<span class="co">#&gt;  3 B1        unit3      C       </span>
<span class="co">#&gt;  4 B1        unit4      A       </span>
<span class="co">#&gt;  5 B1        unit5      B       </span>
<span class="co">#&gt;  6 B1        unit6      D       </span>
<span class="co">#&gt;  7 B2        unit7      A       </span>
<span class="co">#&gt;  8 B2        unit8      D       </span>
<span class="co">#&gt;  9 B2        unit9      A       </span>
<span class="co">#&gt; 10 B2        unit10     C       </span>
<span class="co">#&gt; 11 B2        unit11     B       </span>
<span class="co">#&gt; 12 B2        unit12     C</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>edibble.levels.label.leading_zero <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="../reference/serve_table.html">serve_table</a></span><span class="op">(</span><span class="fu">new_rcbd</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # An edibble: 12 x 3</span>
<span class="co">#&gt;    block     unit       trt     </span>
<span class="co">#&gt;    &lt;unit(2)&gt; &lt;unit(12)&gt; &lt;trt(4)&gt;</span>
<span class="co">#&gt;  1 B1        unit01     A       </span>
<span class="co">#&gt;  2 B1        unit02     D       </span>
<span class="co">#&gt;  3 B1        unit03     C       </span>
<span class="co">#&gt;  4 B1        unit04     B       </span>
<span class="co">#&gt;  5 B1        unit05     C       </span>
<span class="co">#&gt;  6 B1        unit06     A       </span>
<span class="co">#&gt;  7 B2        unit07     D       </span>
<span class="co">#&gt;  8 B2        unit08     C       </span>
<span class="co">#&gt;  9 B2        unit09     D       </span>
<span class="co">#&gt; 10 B2        unit10     B       </span>
<span class="co">#&gt; 11 B2        unit11     B       </span>
<span class="co">#&gt; 12 B2        unit12     A</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>edibble.levels.label.leading_zero <span class="op">=</span> <span class="cn">TRUE</span>,
        edibble.levels.label.min_ndigits <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="fu"><a href="../reference/serve_table.html">serve_table</a></span><span class="op">(</span><span class="fu">new_rcbd</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # An edibble: 12 x 3</span>
<span class="co">#&gt;    block     unit       trt     </span>
<span class="co">#&gt;    &lt;unit(2)&gt; &lt;unit(12)&gt; &lt;trt(4)&gt;</span>
<span class="co">#&gt;  1 B1        unit00001  B       </span>
<span class="co">#&gt;  2 B1        unit00002  C       </span>
<span class="co">#&gt;  3 B1        unit00003  D       </span>
<span class="co">#&gt;  4 B1        unit00004  A       </span>
<span class="co">#&gt;  5 B1        unit00005  B       </span>
<span class="co">#&gt;  6 B1        unit00006  A       </span>
<span class="co">#&gt;  7 B2        unit00007  D       </span>
<span class="co">#&gt;  8 B2        unit00008  B       </span>
<span class="co">#&gt;  9 B2        unit00009  D       </span>
<span class="co">#&gt; 10 B2        unit00010  C       </span>
<span class="co">#&gt; 11 B2        unit00011  C       </span>
<span class="co">#&gt; 12 B2        unit00012  A</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Emi Tanaka.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
